{"version":3,"file":"static/js/904.98171c72.chunk.js","mappings":"uMAWMA,GAAmBC,EAAAA,EAAAA,OAAK,kBAAM,gCAyDpC,UAvDyB,WAAO,IAAD,IACrBC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAA0BE,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACQC,EAA6DF,EAA7DE,MAAOC,EAAsDH,EAAtDG,KAAMC,EAAgDJ,EAAhDI,YAAaC,EAAmCL,EAAnCK,aAAcC,EAAqBN,EAArBM,SAAUC,EAAWP,EAAXO,OACpDC,EAAiBR,EAAjBQ,aAEAC,EAAY,qBADDC,EAAAA,EAAAA,MACaC,aAAZ,aAAG,EAAgBC,YAAnB,QAA2B,UAEzCJ,IACFA,EAAeA,EAAaK,MAAM,EAAG,KAGvCC,EAAAA,EAAAA,YAAU,WACRC,EAAAA,GAAiClB,GAASmB,KAAKf,KAC9C,CAACJ,IAQJ,OACE,8BACGG,IACC,iCACE,SAAC,KAAD,CAAMiB,GAAIR,EAAV,+BACA,SAACd,EAAD,CACES,YAAaA,EACbF,MAAOA,EACPC,KAAMA,EACNK,aAAcA,EACdH,aAAcA,EACdC,SAAUA,EACVY,cAAe,kBAlBH,WACpB,GAAKlB,EAEL,OAAOO,EAAOY,KAAI,SAAAC,GAAK,OAAIA,EAAMjB,QAAMkB,KAAK,MAefH,OAEvB,mBACA,uDACA,2BACE,yBACE,SAAC,KAAD,CAASD,GAAE,OAAX,qBAEF,yBACE,SAAC,KAAD,CAASA,GAAE,UAAX,2BAGJ,SAAC,EAAAK,SAAD,CAAUC,UAAU,4DAApB,UACE,SAAC,KAAD,a,oLC5DNC,EAAW,+BACXC,EAAU,mCAAhB,SAEeC,IAAAA,OAAAA,EAAAA,MAAAA,KAAAA,WAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,2GAAsCC,EAAtC,+BAA4C,GAAIC,EAAhD,+BAAyD,GAAzD,SACyBC,MAAMF,EAAKC,GADpC,YACQE,EADR,QAEkBC,GAFlB,iCAGYD,EAASE,OAHrB,gDAIMC,QAAQC,OAAO,IAAIC,MAAM,cAJ/B,2GAOO,SAASC,IACd,OAAOV,EAAuB,GAAD,OACxBF,EADwB,uCACeC,IAIvC,SAASY,EAAkBxC,GAChC,OAAO6B,EAAuB,GAAD,OACxBF,EADwB,kBACN3B,EADM,oBACa4B,IAIrC,SAASa,EAAezC,GAC7B,OAAO6B,EAAuB,GAAD,OACxBF,EADwB,kBACN3B,EADM,4BACqB4B,EADrB,oBAKxB,SAASc,EAAkB1C,GAChC,OAAO6B,EAAuB,GAAD,OACxBF,EADwB,kBACN3B,EADM,4BACqB4B,EADrB,2BAKxB,SAASe,EAAiBC,GAC/B,OAAOf,EAAuB,GAAD,OACxBF,EADwB,iCACSC,EADT,iCACyCgB,EADzC","sources":["components/pages/MovieDetailsPage.jsx","services/movies-api.js"],"sourcesContent":["import {\n  NavLink,\n  useParams,\n  Outlet,\n  Link,\n  useLocation,\n} from 'react-router-dom';\nimport { useState, useEffect, Suspense, lazy } from 'react';\n\nimport * as moviesFetchAPI from '../../services/movies-api';\n\nconst MovieDetailsInfo = lazy(() => import('../MovieDetailsInfo'));\n\nconst MovieDetailsPage = () => {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState('');\n  const { title, name, poster_path, vote_average, overview, genres } = movie;\n  let { release_date } = movie;\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/movies';\n\n  if (release_date) {\n    release_date = release_date.slice(0, 4);\n  }\n\n  useEffect(() => {\n    moviesFetchAPI.fetchMovieDetails(movieId).then(setMovie);\n  }, [movieId]);\n\n  const getGenresList = () => {\n    if (!movie) return;\n\n    return genres.map(genre => genre.name).join(', ');\n  };\n\n  return (\n    <>\n      {movie && (\n        <>\n          <Link to={backLinkHref}>Back to products</Link>\n          <MovieDetailsInfo\n            poster_path={poster_path}\n            title={title}\n            name={name}\n            release_date={release_date}\n            vote_average={vote_average}\n            overview={overview}\n            getGenresList={() => getGenresList()}\n          />\n          <hr />\n          <div>Additional information: </div>\n          <ul>\n            <li>\n              <NavLink to={`cast`}>Cast</NavLink>\n            </li>\n            <li>\n              <NavLink to={`reviews`}>Reviews</NavLink>\n            </li>\n          </ul>\n          <Suspense fallback={<div>Load Additional information...</div>}>\n            <Outlet />\n          </Suspense>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default MovieDetailsPage;\n","const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '296d44092a8a94dcab4a4c4bb6b7444f';\n\nasync function fetchWithErrorHandling(url = '', config = {}) {\n  const response = await fetch(url, config);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error('Not found'));\n}\n\nexport function fetchTrendMovies() {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`\n  );\n}\n\nexport function fetchMovieDetails(movieId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`\n  );\n}\n\nexport function fetchMovieCast(movieId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n}\n\nexport function fetchMovieReviews(movieId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n}\n\nexport function fetchMoviesQuery(query) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n}\n"],"names":["MovieDetailsInfo","lazy","movieId","useParams","useState","movie","setMovie","title","name","poster_path","vote_average","overview","genres","release_date","backLinkHref","useLocation","state","from","slice","useEffect","moviesFetchAPI","then","to","getGenresList","map","genre","join","Suspense","fallback","BASE_URL","API_KEY","fetchWithErrorHandling","url","config","fetch","response","ok","json","Promise","reject","Error","fetchTrendMovies","fetchMovieDetails","fetchMovieCast","fetchMovieReviews","fetchMoviesQuery","query"],"sourceRoot":""}
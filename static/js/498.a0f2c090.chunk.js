"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[498],{498:function(e,n,t){t.r(n),t.d(n,{default:function(){return m}});var r=t(885),o=t(791),a=t(501),c=t(207),u="Form_form__e1yzW",s="Form_searchInput__X8+62",i="Form_searchButton__nK6j9",l=t(185),f=t(66),p=t(184),h=function(e){var n=e.query,t=e.onSearch,a=(0,o.useState)(""),c=(0,r.Z)(a,2),h=c[0],d=c[1];(0,o.useEffect)((function(){d(n)}),[n]);return(0,p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({search:h}),""!==n&&null!==h?f.Am.success("Results for ".concat(h),{position:"top-center",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}):f.Am.warn("You have to write something",{position:"top-center",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},className:u,children:[(0,p.jsx)("input",{type:"text",name:"input",value:h||"",onChange:function(e){d(e.target.value)},className:s,placeholder:"Enter movie name..."}),(0,p.jsx)("button",{type:"submit",className:i,children:(0,p.jsx)(l.dVI,{})})]})},d=(0,o.lazy)((function(){return t.e(841).then(t.bind(t,841))})),m=function(){var e=(0,o.useState)([]),n=(0,r.Z)(e,2),t=n[0],u=n[1],s=(0,a.lr)(),i=(0,r.Z)(s,2),l=i[0],m=i[1],g=l.get("search");return(0,o.useEffect)((function(){null!==g&&c.KL(g).then((function(e){var n=e.results;if(!n.length)return f.Am.error("Not found anything :(",{position:"top-center",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});u(n)}))}),[g]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(h,{query:g,onSearch:m}),(0,p.jsx)(o.Suspense,{fallback:(0,p.jsx)("h2",{children:"Loading movies..."}),children:t&&(0,p.jsx)(d,{movies:t})})]})}},207:function(e,n,t){t.d(n,{Hx:function(){return h},KL:function(){return d},Y5:function(){return f},_k:function(){return l},uV:function(){return p}});var r=t(861),o=t(757),a=t.n(o),c="https://api.themoviedb.org/3",u="296d44092a8a94dcab4a4c4bb6b7444f";function s(){return i.apply(this,arguments)}function i(){return i=(0,r.Z)(a().mark((function e(){var n,t,r,o=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:"",t=o.length>1&&void 0!==o[1]?o[1]:{},e.next=4,fetch(n,t);case 4:if(!(r=e.sent).ok){e.next=11;break}return e.next=8,r.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}function l(){return s("".concat(c,"/trending/movie/day?api_key=").concat(u))}function f(e){return s("".concat(c,"/movie/").concat(e,"?api_key=").concat(u))}function p(e){return s("".concat(c,"/movie/").concat(e,"/credits?api_key=").concat(u,"&language=en-US"))}function h(e){return s("".concat(c,"/movie/").concat(e,"/reviews?api_key=").concat(u,"&language=en-US&page=1"))}function d(e){return s("".concat(c,"/search/movie?api_key=").concat(u,"&language=en-US&query=").concat(e,"&page=1&include_adult=false"))}}}]);
//# sourceMappingURL=498.a0f2c090.chunk.js.map
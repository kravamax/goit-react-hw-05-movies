{"version":3,"file":"static/js/498.a6fb880a.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Form/Form.module.css?89ba","components/Form/Form.jsx","pages/MoviesPage.jsx","services/movies-api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Form_form__e1yzW\",\"searchInput\":\"Form_searchInput__X8+62\",\"searchButton\":\"Form_searchButton__nK6j9\"};","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport s from './Form.module.css';\nimport { BsSearch } from 'react-icons/bs';\nimport { toast } from 'react-toastify';\n\nconst Form = ({ query, onSearch }) => {\n  const [input, setInput] = useState('');\n\n  useEffect(() => {\n    setInput(query);\n  }, [query]);\n\n  const onChangeInput = event => {\n    setInput(event.target.value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    onSearch({ search: input });\n\n    if (query === '' || input === null) {\n      toast.warn('You have to write something', {\n        position: 'top-center',\n        autoClose: 1000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        theme: 'dark',\n      });\n      return;\n    }\n\n    toast.success(`Results for ${input}`, {\n      position: 'top-center',\n      autoClose: 1000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n      theme: 'dark',\n    });\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className={s.form}>\n      <input\n        type=\"text\"\n        name=\"input\"\n        value={input || ''}\n        onChange={onChangeInput}\n        className={s.searchInput}\n        placeholder=\"Enter movie name...\"\n      />\n      <button type=\"submit\" className={s.searchButton}>\n        <BsSearch />\n      </button>\n    </form>\n  );\n};\n\nForm.propTypes = {\n  query: PropTypes.string,\n  onSearch: PropTypes.func.isRequired,\n};\n\nexport default Form;\n","import { useState, useEffect, lazy, Suspense } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport * as moviesFetchAPI from '../services/movies-api';\nimport Form from '../components/Form';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Oval } from 'react-loader-spinner';\nconst MoviesList = lazy(() => import('../components/MoviesList'));\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState([]);\n\n  const [search, setSearch] = useSearchParams();\n  const query = search.get('search');\n\n  useEffect(() => {\n    if (query === null) return;\n\n    moviesFetchAPI.fetchMoviesQuery(query).then(({ results }) => {\n      if (!results.length) {\n        return toast.error('Not found anything :(', {\n          position: 'top-center',\n          autoClose: 1500,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          theme: 'dark',\n        });\n      }\n      setMovies(results);\n    });\n  }, [query]);\n\n  return (\n    <>\n      <Form query={query} onSearch={setSearch} />\n      <Suspense\n        fallback={\n          <div\n            style={{\n              display: 'flex',\n              justifyContent: 'center',\n            }}\n          >\n            <Oval\n              height={80}\n              width={80}\n              color=\"black\"\n              visible={true}\n              ariaLabel=\"oval-loading\"\n              secondaryColor=\"grey\"\n              strokeWidth={2}\n              strokeWidthSecondary={2}\n            />\n          </div>\n        }\n      >\n        {movies && <MoviesList movies={movies} />}\n      </Suspense>\n    </>\n  );\n};\n\nexport default MoviesPage;\n","const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '296d44092a8a94dcab4a4c4bb6b7444f';\n\nasync function fetchWithErrorHandling(url = '', config = {}) {\n  const response = await fetch(url, config);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error('Not found'));\n}\n\nexport function fetchTrendMovies() {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`\n  );\n}\n\nexport function fetchMovieDetails(movieId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`\n  );\n}\n\nexport function fetchMovieCast(movieId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n}\n\nexport function fetchMovieReviews(movieId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n}\n\nexport function fetchMoviesQuery(query) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n}\n"],"names":["query","onSearch","useState","input","setInput","useEffect","onSubmit","event","preventDefault","search","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","className","s","type","name","value","onChange","target","placeholder","MoviesList","lazy","movies","setMovies","useSearchParams","setSearch","get","moviesFetchAPI","then","results","length","Suspense","fallback","style","display","justifyContent","height","width","color","visible","ariaLabel","secondaryColor","strokeWidth","strokeWidthSecondary","BASE_URL","API_KEY","fetchWithErrorHandling","url","config","fetch","response","ok","json","Promise","reject","Error","fetchTrendMovies","fetchMovieDetails","movieId","fetchMovieCast","fetchMovieReviews","fetchMoviesQuery"],"sourceRoot":""}